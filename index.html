<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Math Explorer â€“ Class 4</title>

<style>
body{
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  background: linear-gradient(135deg,#fdfbfb,#ebedee);
  margin:0; padding:10px;
  text-align:center;
}

.card{
  background:#fff;
  max-width:420px;
  margin:auto;
  padding:16px;
  border-radius:16px;
  box-shadow:0 6px 14px rgba(0,0,0,.15);
}

h1{margin:6px;font-size:30px;}
button{
  font-size:20px;
  padding:10px 14px;
  margin:5px;
  border:none;
  border-radius:12px;
  background:#4a90e2;
  color:#fff;
}
button.secondary{background:#777;}
button.nav{background:#ffb300;color:#000;}
button.jump{font-size:16px;padding:6px 10px;margin:3px;}
button.selected{background:#2ecc71;}
.options button{width:90%;}

.question{
  font-size:24px;
  margin:12px 0;
}
.visual{
  font-size:44px;
  margin:8px;
}

#jumpNav{margin-top:10px;}
.review-card{
  background:#fff;
  border-radius:12px;
  padding:12px;
  margin:10px auto;
  max-width:420px;
  box-shadow:0 4px 10px rgba(0,0,0,.1);
  text-align:left;
}
footer{font-size:14px;color:#666;margin-top:10px;}
</style>
</head>

<body>

<h1>ğŸ“˜ Math Explorer</h1>

<!-- NAME SCREEN -->
<div id="nameScreen" class="card">
  <p>Enter your name</p>
  <input id="nameInput" style="font-size:20px;padding:8px;width:85%;text-align:center;border-radius:10px;">
  <br><br>
  <button onclick="startGame()">Start</button>
</div>

<!-- GAME SCREEN -->
<div id="gameScreen" class="card" style="display:none;">
  <div id="progress"></div>
  <div id="questionArea"></div>
  <div class="options" id="options"></div>

  <div>
    <button class="nav" onclick="prevQ()">â¬… Prev</button>
    <button class="nav" onclick="nextQ()">Next â¡</button>
  </div>

  <div id="jumpNav"></div>

  <br>
  <button class="secondary" onclick="openReview()">Review Answers</button>
</div>

<!-- REVIEW SCREEN -->
<div id="reviewScreen" style="display:none;">
  <h2>ğŸ“ Review</h2>
  <div id="reviewArea"></div>

  <button class="secondary" onclick="backToGame()">â¬… Edit Answers</button>
  <button onclick="submitFinal()">âœ… Submit</button>
</div>

<!-- RESULT SCREEN -->
<div id="resultScreen" class="card" style="display:none;">
  <h2>ğŸ‰ Result</h2>
  <p id="scoreText"></p>
  <button onclick="location.reload()">ğŸ”„ Replay</button>
</div>

<footer>An MPPS Pedduru Initiative</footer>

<script>
let name="";
let current=0;

const questions=[
 {q:"24 + 36 = ?",opts:[50,60,70],ans:60,vis:"â•"},
 {q:"56 âˆ’ 19 = ?",opts:[37,39,41],ans:37,vis:"â–"},
 {q:"7 Ã— 8 = ?",opts:[48,56,64],ans:56,vis:"âœ–ï¸"},
 {q:"48 Ã· 6 = ?",opts:[6,8,10],ans:8,vis:"â—"},

 {q:"ğŸğŸğŸ + ğŸğŸ<br>How many apples?",opts:[4,5,6],ans:5,vis:"ğŸ"},
 {q:"12 candies shared by 3 children.<br>Each gets?",opts:[3,4,5],ans:4,vis:"ğŸ¬"},
 {q:"4 bicycles have how many wheels?",opts:[6,8,10],ans:8,vis:"ğŸš²"},
 {q:"25 books, 9 borrowed.<br>Books left?",opts:[14,16,18],ans:16,vis:"ğŸ“š"},

 {q:"345 + 120 = ?",opts:[455,465,475],ans:465,vis:"â•"},
 {q:"600 âˆ’ 275 = ?",opts:[315,325,335],ans:325,vis:"â–"},
 {q:"9 Ã— 6 = ?",opts:[45,54,63],ans:54,vis:"âœ–ï¸"},
 {q:"81 Ã· 9 = ?",opts:[7,8,9],ans:9,vis:"â—"},

 {q:"5 bags with 6 oranges each.<br>Total oranges?",opts:[25,30,35],ans:30,vis:"ğŸŠ"},
 {q:"â‚¹100 âˆ’ â‚¹37 = ?",opts:[53,63,73],ans:63,vis:"ğŸ’°"},
 {q:"3 tables with 4 legs each.<br>Total legs?",opts:[10,12,14],ans:12,vis:"ğŸª‘"}
];

const answers=new Array(15).fill(null);

function startGame(){
 name=document.getElementById("nameInput").value||"Student";
 document.getElementById("nameScreen").style.display="none";
 document.getElementById("gameScreen").style.display="block";
 buildJumpNav();
 loadQ();
}

function loadQ(){
 document.getElementById("progress").innerHTML=
  `Question ${current+1} of 15`;

 const q=questions[current];
 document.getElementById("questionArea").innerHTML=
  `<div class="visual">${q.vis}</div>
   <div class="question">${q.q}</div>`;

 const optDiv=document.getElementById("options");
 optDiv.innerHTML="";
 q.opts.forEach(v=>{
  const b=document.createElement("button");
  b.innerHTML=v;
  if(answers[current]===v) b.classList.add("selected");
  b.onclick=()=>{
    answers[current]=v;
    loadQ();
  };
  optDiv.appendChild(b);
 });

 updateJumpNav();
}

function nextQ(){ if(current<14){current++;loadQ();} }
function prevQ(){ if(current>0){current--;loadQ();} }

function buildJumpNav(){
 const j=document.getElementById("jumpNav");
 j.innerHTML="";
 questions.forEach((_,i)=>{
  const b=document.createElement("button");
  b.className="jump";
  b.innerText=i+1;
  b.onclick=()=>{current=i;loadQ();};
  j.appendChild(b);
 });
}

function updateJumpNav(){
 document.querySelectorAll(".jump").forEach((b,i)=>{
  b.style.background=answers[i]!==null?"#2ecc71":"#ccc";
  b.style.color="#000";
 });
}

function openReview(){
 document.getElementById("gameScreen").style.display="none";
 document.getElementById("reviewScreen").style.display="block";

 let html="";
 questions.forEach((q,i)=>{
  html+=`
   <div class="review-card">
    <b>Q${i+1}.</b> ${q.q}<br>
    <i>Your answer:</i> ${answers[i] ?? "Not answered"}
   </div>`;
 });
 document.getElementById("reviewArea").innerHTML=html;
}

function backToGame(){
 document.getElementById("reviewScreen").style.display="none";
 document.getElementById("gameScreen").style.display="block";
}

function submitFinal(){
 let score=0;
 questions.forEach((q,i)=>{
  if(answers[i]===q.ans) score++;
 });

 document.getElementById("reviewScreen").style.display="none";
 document.getElementById("resultScreen").style.display="block";
 document.getElementById("scoreText").innerHTML=
  `${name}, you scored <b>${score} / 15</b>`;
}
</script>

</body>
</html>